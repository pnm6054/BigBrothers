<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Player Display</title>
    <link type="text/css" rel="stylesheet" href="playpage.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
    <script src="assets/js/Chart.min.js"></script>
    <script src="http://127.0.0.1:8000/socket.io/socket.io.js"></script>
</head>

<body>
    <header>
        <h1>video player test</h1>
        <p>
            19' capstone design project "BigBrothers"<br>
        </p>
    </header>
    <section>
        <iframe width="800" height="450" src="https://www.youtube.com/embed/-ZrDjwXZGxI" frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </section>
    <aside>
        <iframe width="320" height="240" src="https://www.youtube.com/embed/-ZrDjwXZGxI" frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <canvas id="myChart"></canvas>
    </aside>
    <footer>

    </footer>
</body>
<script>
    var socket = io.connect('http://127.0.0.1:8000');
    var ctx = document.getElementById('myChart').getContext('2d');
    var label_idx = 0, value_idx = 0;
    var data = {
        labels: [],
        datasets: [{
            label: "My First dataset",
            borderColor: 'rgb(255, 99, 132)',
            data: [],
        }]
    };
    socket.on('server', function (data) {
        addData(data.hello)
    });
    function addData(value) {
        myLineChart.data.datasets[0].data[value_idx] = value;
        myLineChart.data.labels[label_idx] = label_idx + 1;
        myLineChart.update();
        label_idx += 1;
        value_idx += 1;
    };
    var option = {
        showLine: true
    };
    var myLineChart = Chart.Line(ctx, {
        data: data,
        option: option
    });
</script>

</html>